@model HomeIndexViewModel
@using Saleos.Views.Shared

@{
  ViewData["Title"] = "Home Page";
}

@foreach (var articleInfoDAO in Model.articleInfos)
{
  <div class="home-article-info" style="margin-bottom: 10px">
      <div class="article-main-info">
        <div class="article-img">
          <img src="./img/thumb_1.webp" alt=""/>
        </div>
        <div class="article-info-content">
          <h2>@articleInfoDAO.Title</h2>
          <p>@articleInfoDAO.Abstract</p>
        </div>
      </div>
      <div class="article-extra-info clearfix">
        <div class="article-create-time">
          <i class="bi bi-calendar3" style="padding-right: 2px;"></i>
          @articleInfoDAO.CreateTime
        </div>
        <div class="article-tags">
          @foreach (var tags in articleInfoDAO.Tags)
          {
            <i class="bi bi-tags-fill"></i>
            <a href="#" style="margin-left: 5px">@tags.Content</a>
          }
        </div>
        <div class="read-whole-article">
          <a asp-action="Article" asp-route-articleId="@articleInfoDAO.Id">
            阅读全文
            <i class="bi bi-arrow-right-circle-fill" style="margin-left: 5px"></i>
          </a>
        </div>
      </div>
  </div>
}

<div class="row" style="margin-top: 20px">
  <div class="col" style="display: flex; flex-direction: row-reverse;">
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item @Pagination.Disabled(@Model.CurrentPage - 1, @Model.MaxPage)">
          <a class="page-link" aria-label="Previous"
            asp-action="Index" asp-route-page="@(Model.CurrentPage - 1)">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>
        @if(@Model.CurrentPage > 1)
        {
          <li class="page-item">
            <a class="page-link" asp-action="Index" asp-route-page="@(Model.CurrentPage-1)">
              @(Model.CurrentPage-1)
            </a>
          </li>
        }
        <li class="page-item">
          <a class="page-link active" asp-action="Index" asp-route-page="@Model.CurrentPage">
            @Model.CurrentPage
          </a>
        </li>
        @if(@Model.CurrentPage + 1 <= @Model.MaxPage)
        {
          <li class="page-item">
            <a class="page-link" asp-action="Index" asp-route-page="@(Model.CurrentPage+1)">
              @(Model.CurrentPage+1)
            </a>
          </li>
        }
        <li class="page-item @Pagination.Disabled(@Model.CurrentPage + 1, @Model.MaxPage)">
          <a class="page-link" asp-action="Index" asp-route-page="@(Model.CurrentPage + 1)"
            aria-label="Next" aria-disabled="@(Model.CurrentPage == Model.MaxPage)">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
